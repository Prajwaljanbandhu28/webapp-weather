{"ast":null,"code":"import\"./App.css\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const api={base:\"https://api.openweathermap.org/data/2.5/\",key:\"04e60fd3480011e71d9bebe70e77ab12\"};function App(){const[search,setSearch]=useState(\"\");const[weather,setWeather]=useState({});const[forecast,setForecast]=useState([]);const searchPressed=()=>{fetch(\"\".concat(api.base,\"weather?q=\").concat(search,\"&APPID=\").concat(api.key)).then(res=>res.json()).then(result=>{if(result.cod===200){setWeather(result);console.log(result);}else{// Handle errors: display message, log details\nconsole.error(\"Error fetching weather:\",result.message);}});fetch(\"\".concat(api.base,\"forecast?q=\").concat(search,\"&APPID=\").concat(api.key)).then(res=>res.json()).then(result=>{if(result.cod===\"200\"){// Filter out duplicate entries based on date\nconst filteredForecast=result.list.filter((item,index,self)=>index===self.findIndex(t=>new Date(t.dt_txt).getDate()===new Date(item.dt_txt).getDate()));setForecast(filteredForecast);console.log(filteredForecast);}else{console.error(\"Error fetching forecast:\",result.message);}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Weather Forecast\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search city/state...\",onChange:e=>setSearch(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:searchPressed,children:\"Search\"})]}),weather.hasOwnProperty(\"name\")&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Today's Weather\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"City: \",weather.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Temperature: \",Math.round(weather.main.temp-273.15),\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",weather.weather[0].description]})]})]}),forecast.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"forecast-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"5-Day Forecast:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"forecast\",children:forecast.slice(0,5).map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"forecast-item\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Date: \",item.dt_txt]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Temperature: \",Math.round(item.main.temp-273.15),\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",item.weather[0].description]})]},index))})]})]});}export default App;","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","api","base","key","App","search","setSearch","weather","setWeather","forecast","setForecast","searchPressed","fetch","concat","then","res","json","result","cod","console","log","error","message","filteredForecast","list","filter","item","index","self","findIndex","t","Date","dt_txt","getDate","className","children","type","placeholder","onChange","e","target","value","onClick","hasOwnProperty","name","Math","round","main","temp","description","length","slice","map"],"sources":["/Users/Personal/Hackveda/my-stuff/wheather-app/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport { useState } from \"react\";\n\nconst api = {\n  base: \"https://api.openweathermap.org/data/2.5/\",\n  key: \"04e60fd3480011e71d9bebe70e77ab12\",\n};\n\nfunction App() {\n  const [search, setSearch] = useState(\"\");\n  const [weather, setWeather] = useState({});\n  const [forecast, setForecast] = useState([]);\n\n  const searchPressed = () => {\n    fetch(`${api.base}weather?q=${search}&APPID=${api.key}`)\n      .then((res) => res.json())\n      .then((result) => {\n        if (result.cod === 200) {\n          setWeather(result);\n          console.log(result);\n        } else {\n          // Handle errors: display message, log details\n          console.error(\"Error fetching weather:\", result.message);\n        }\n      });\n\n    fetch(`${api.base}forecast?q=${search}&APPID=${api.key}`)\n      .then((res) => res.json())\n      .then((result) => {\n        if (result.cod === \"200\") {\n          // Filter out duplicate entries based on date\n          const filteredForecast = result.list.filter(\n            (item, index, self) =>\n              index ===\n              self.findIndex(\n                (t) =>\n                  new Date(t.dt_txt).getDate() ===\n                  new Date(item.dt_txt).getDate()\n              )\n          );\n          setForecast(filteredForecast);\n          console.log(filteredForecast);\n        } else {\n          console.error(\"Error fetching forecast:\", result.message);\n        }\n      });\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"App\">\n        <h1>Weather Forecast</h1>\n\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"Search city/state...\"\n            onChange={(e) => setSearch(e.target.value)}\n          />\n          <button onClick={searchPressed}>Search</button>\n        </div>\n\n        {weather.hasOwnProperty(\"name\") && (\n          <>\n            <h2>Today's Weather</h2>\n            <p>City: {weather.name}</p>\n            <p>Temperature: {Math.round(weather.main.temp - 273.15)}°C</p>\n            <p>Description: {weather.weather[0].description}</p>\n          </>\n        )}\n      </div>\n\n      {forecast.length > 0 && (\n        <div className=\"forecast-container\">\n          <h2>5-Day Forecast:</h2>\n          <div className=\"forecast\">\n            {forecast.slice(0, 5).map((item, index) => (\n              <div key={index} className=\"forecast-item\">\n                <p>Date: {item.dt_txt}</p>\n                <p>Temperature: {Math.round(item.main.temp - 273.15)}°C</p>\n                <p>Description: {item.weather[0].description}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}